{% extends "base.html" %}
{% block content %}

<h1>Join / Leave 設定</h1>

<div class="glass-card">
  <label>有効化</label>
  <input id="jl_enabled" type="checkbox" {% if cfg.jl.enabled %}checked{% endif %}>

  <label>Join チャンネル</label>
  <div class="select-wrap">
    <select id="jl_channel_join" class="select">
      <option value="">(未指定)</option>
      {% for ch in channels %}
        <option value="{{ ch.id }}" {% if cfg.jl.channels.join|string == ch.id %}selected{% endif %}>#{{ ch.name }}</option>
      {% endfor %}
    </select>
    <span class="chev">▾</span>
  </div>

  <label>Leave チャンネル</label>
  <div class="select-wrap">
    <select id="jl_channel_leave" class="select">
      <option value="">(未指定)</option>
      {% for ch in channels %}
        <option value="{{ ch.id }}" {% if cfg.jl.channels.leave|string == ch.id %}selected{% endif %}>#{{ ch.name }}</option>
      {% endfor %}
    </select>
    <span class="chev">▾</span>
  </div>

  <div class="actions">
    <button class="btn primary" onclick="jlSave('{{ guild.id }}')">保存</button>
  </div>
</div>

<script id="cfg-json" type="application/json">{{ cfg | tojson }}</script>

{% endblock %}
